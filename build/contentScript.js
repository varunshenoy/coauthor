(()=>{"use strict";const e={model:"text-davinci-003",temperature:.9,max_tokens:400,top_p:1,frequency_penalty:0,presence_penalty:0};chrome.runtime.onMessage.addListener(((t,n,o)=>("INSERT"===t.type&&async function(t){var n=document.getSelection().getRangeAt(0),o=`Convert English text to LaTeX. Include an equation environment if necessary. \nQ: ${t}\n A:`;document.body.style.cursor="wait";const a=(await async function(t={}){const n={...e,...t},o={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String("YOUR API KEY")},body:JSON.stringify(n)},a=await fetch("https://api.openai.com/v1/completions",o);return await a.json()}({prompt:o})).choices[0].text.trim();document.body.style.cursor="default",n.deleteContents(),n.insertNode(document.createTextNode(a))}(t.payload.message).then(o({})),!0)))})();